<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noticias Formula 1</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Noticias de F1 (Espa√±ol)</h1>
    <div class="news-section">
        <ul id="news-es"></ul>
    </div>
    <h1>F1 News (English)</h1>
    <div class="news-section">
        <ul id="news-en"></ul>
    </div>
    <script>
    const newsIcon = `<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' style='vertical-align:middle;margin-right:7px' fill='#1a237e' viewBox='0 0 24 24'><path d='M21 6h-18v-2c0-1.104.896-2 2-2h14c1.104 0 2 .896 2 2v2zm-18 2h18v10c0 1.104-.896 2-2 2h-14c-1.104 0-2-.896-2-2v-10zm2 2v6h14v-6h-14zm2 2h10v2h-10v-2z'/></svg>`;
    function formatDate(dateStr) {
        if (!dateStr) return '';
        const d = new Date(dateStr);
        if (isNaN(d)) return dateStr;
        return d.toLocaleDateString('es-ES', { year: 'numeric', month: 'short', day: 'numeric' }) +
            ' ' + d.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
    }
    async function loadF1News() {
        const res = await fetch('http://127.0.0.1:5003/api/news');
        const data = await res.json();
        const newsEs = document.getElementById('news-es');
        const newsEn = document.getElementById('news-en');
        newsEs.innerHTML = '';
        newsEn.innerHTML = '';
        data.es.forEach(n => {
            const li = document.createElement('li');
            li.innerHTML = `${newsIcon}<a href="${n.link}" target="_blank">${n.title}</a><br><span>${formatDate(n.published)}</span>`;
            newsEs.appendChild(li);
        });
        data.en.forEach(n => {
            const li = document.createElement('li');
            li.innerHTML = `${newsIcon}<a href="${n.link}" target="_blank">${n.title}</a><br><span>${formatDate(n.published)}</span>`;
            newsEn.appendChild(li);
        });
    }
    loadF1News();
    </script>
</body>
</html>
